\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{coursenotes-math}%
    [2021/01/13 Course notes math package]

\RequirePackage{xparse,amsmath,amssymb}

\newcommand{\harp}[1]{\mathpalette\harpoonvec{#1}\mkern-1mu}
\newcommand{\harpvecsign}{\scriptscriptstyle\rightharpoonup}
\newcommand{\harpoonvec}[2]{%
  \ifx\displaystyle#1\doalign{$\harpvecsign$}{#1#2}\fi
  \ifx\textstyle#1\doalign{$\harpvecsign$}{#1#2}\fi
  \ifx\scriptstyle#1\doalign{\scalebox{.6}[.9]{$\harpvecsign$}}{#1#2}\fi
  \ifx\scriptscriptstyle#1\doalign{\scalebox{.5}[.8]{$\harpvecsign$}}{#1#2}\fi
}
\newcommand{\doalign}[2]{%
 {\vbox{\offinterlineskip\ialign{\hfil##\hfil\cr#1\cr$#2$\cr}}}%
}

\DeclareMathOperator{\transpose}{%
    {^{\mkern-3mu\mathsf{T}}}\!\mkern-2mu%
}
\AtBeginDocument{%
  \let\oldforall\forall%
  \RenewDocumentCommand{\forall}{}{\mkern2mu\oldforall\mkern3mu}%
}


\DeclareMathOperator{\AND}{\;\text{and}\;}
\DeclareMathOperator{\OR}{\;\text{or}\;}
\DeclareMathOperator{\WHERE}{\;\text{where}\;}
\DeclareMathOperator{\TR}{\transpose}
\mathcode`\*="8000%
{\catcode`\*\active\gdef*{\cdot}}%
\NewDocumentCommand{\vect}{m}{\harp{\symbf{#1}}}
\NewDocumentCommand{\matr}{m}{\symbf{#1}}
